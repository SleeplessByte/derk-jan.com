---
import { Code } from "astro:components";
import CodeSlide from "../../../../components/Slide/CodeSlide.astro";
import SlidesLayout from "../../../../layouts/talks/practical-solutions-for-accessible-components.astro";
import { lines } from "../../../../functions/transformations";
---

<SlidesLayout title="Slide 38.14: How to trap focus?">
  <CodeSlide
    next-href="/talks/practical-solutions-for-accessible-components/38/15-example"
    next-label="Go to slide 38.15: How to trap focus? Example"
  >
    <Code
      slot="single"
      lang="javascript"
      meta="{2,5,8}"
      transformers={lines}
      code={`
const component = document.getElementById('my-component');
let ignoreFocusEvents = false;

function trapFocus(event) {
    if (ignoreFocusEvents) return;
    if (component.contains(event.target)) return;

    focusFirst(component);
}

document.addEventListener('focus', trapFocus, true);
      `.trim()}
    />
  </CodeSlide>
</SlidesLayout>
